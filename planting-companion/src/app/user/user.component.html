<div class="p-6 bg-white rounded-lg shadow-md">
  <h1 class="text-2xl font-bold mb-4">{{ title }}</h1>
  <form [formGroup]="userForm" class="space-y-4">
    <div class="form-control">
      <label class="label">
        <span class="label-text">Email</span>
      </label>
      <input
        type="email"
        formControlName="email"
        placeholder="Enter email"
        class="input input-bordered validator w-full"
      />
      @if (userForm.get('email')?.hasError('required') && userForm.get('email')?.touched) {
        <div class="validator-hint">Email is required</div>
      }
      @if (userForm.get('email')?.hasError('email') && userForm.get('email')?.touched) {
        <div class="validator-hint">Enter a valid email address</div>
      }
    </div>

    <div class="form-control">
      <label class="label">
        <span class="label-text">Full Name</span>
      </label>
      <input
        type="text"
        formControlName="full_name"
        placeholder="Enter full name"
        class="input input-bordered validator w-full"
      />
      @if (userForm.get('full_name')?.hasError('required') && userForm.get('full_name')?.touched) {
        <div class="validator-hint">Full name is required</div>
      }
    </div>

    <!-- Password Field -->
    <div class="form-control">
      <label class="label">
        <span class="label-text">Password</span>
      </label>
      <input
        type="password"
        formControlName="password"
        placeholder="Enter password"
        class="input input-bordered validator w-full"
      />
      @if (userForm.get('password')?.hasError('required') && userForm.get('password')?.touched) {
        <div class="validator-hint">Password is required</div>
      }
      @if (userForm.get('password')?.hasError('minlength') && userForm.get('password')?.touched) {
        <div class="validator-hint">Password must be at least 6 characters</div>
      }
    </div>

    <!-- Confirm Password Field -->
    <div class="form-control">
      <label class="label">
        <span class="label-text">Confirm Password</span>
      </label>
      <input
        type="password"
        formControlName="confirm_password"
        placeholder="Confirm password"
        class="input input-bordered validator w-full"
      />
      @if (userForm.hasError('passwordsMismatch') && userForm.get('confirm_password')?.touched) {
        <div class="validator-hint">Passwords do not match</div>
      }
    </div>

    <div class="form-control">
      <label class="cursor-pointer label">
        <span class="label-text">Active</span>
        <input type="checkbox" formControlName="is_active" class="checkbox checkbox-primary" />
      </label>
    </div>

    <div class="form-control">
      <label class="cursor-pointer label">
        <span class="label-text">Admin</span>
        <input type="checkbox" formControlName="is_superuser" class="checkbox checkbox-primary" />
      </label>
    </div>

    <div class="flex justify-end space-x-4">
      <button type="button" class="btn btn-secondary" (click)="onCancel()">Cancel</button>
      <button
        type="button"
        class="btn btn-primary"
        [disabled]="userForm.invalid"
        (click)="onSave()"
      >
        Save
      </button>
    </div>
  </form>
</div>